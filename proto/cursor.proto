syntax = "proto3";

package cursor;

// Cursor message
message CursorMessage {
    // Message type
    MessageType type = 1;
    // Cursor image data (PNG or WebP) - empty if using cached cursor
    bytes image_data = 2;
    // Cursor hotspot X coordinate
    int32 hotspot_x = 3;
    // Cursor hotspot Y coordinate
    int32 hotspot_y = 4;
    // Image width
    int32 width = 5;
    // Image height
    int32 height = 6;
    // Timestamp (milliseconds)
    uint64 timestamp = 7;
    // Image format (0=PNG, 1=WebP, 2=WebP_Animated)
    ImageFormat image_format = 8;
    // Cursor cache ID (hash of image data) - if image_data is empty, use this to reference cached cursor
    string cursor_id = 9;
    // Whether this is a full update (true) or cache reference (false)
    bool is_full_update = 10;
}

enum MessageType {
    MESSAGE_TYPE_UNSPECIFIED = 0;
    MESSAGE_TYPE_CURSOR_UPDATE = 1;
    MESSAGE_TYPE_CURSOR_HIDE = 2;
    MESSAGE_TYPE_HEARTBEAT = 3;
}

enum ImageFormat {
    IMAGE_FORMAT_PNG = 0;
    IMAGE_FORMAT_WEBP = 1;
    IMAGE_FORMAT_WEBP_ANIMATED = 2;
}



