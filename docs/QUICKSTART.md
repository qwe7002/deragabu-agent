# ğŸš€ å¿«é€Ÿé–‹å§‹æŒ‡å—

## 5 åˆ†é˜å¿«é€Ÿé«”é©—

### æ­¥é©Ÿ 1: å®‰è£ Protocol Buffers (1 åˆ†é˜)

```powershell
# ä½¿ç”¨ winget (æ¨è–¦)
winget install --id Google.Protobuf -e
```

### æ­¥é©Ÿ 2: ç·¨è­¯é …ç›® (2 åˆ†é˜)

```bash
cd C:\Users\qwe7002\RustroverProjects\deragabu-agent
cargo build --release
```

### æ­¥é©Ÿ 3: å•Ÿå‹•æœå‹™å™¨ (10 ç§’)

```bash
# æ–¹æ³• 1: ä½¿ç”¨æ‰¹æ¬¡æª”
.\run.bat

# æ–¹æ³• 2: ä½¿ç”¨ cargo
cargo run --release
```

çœ‹åˆ°é€™å€‹è¼¸å‡ºè¡¨ç¤ºæˆåŠŸï¼š
```
INFO  Deragabu Agent starting...
INFO  Cursor cache initialized
INFO  Starting cursor capture... (format: WebP)
INFO  WebSocket server listening on: 127.0.0.1:9000
```

### æ­¥é©Ÿ 4: æ‰“é–‹æ¸¬è©¦å·¥å…· (5 ç§’)

1. åœ¨ç€è¦½å™¨ä¸­æ‰“é–‹ `test-client-v2.html`
2. é»æ“Š "ğŸ”Œ é€£æ¥" æŒ‰éˆ•
3. ç§»å‹•æ»‘é¼ ï¼

### æ­¥é©Ÿ 5: è§€å¯Ÿæ•ˆæœ âœ¨

ä½ æ‡‰è©²çœ‹åˆ°ï¼š
- âœ… ç‹€æ…‹è®Šç‚º "å·²é€£æ¥" (ç¶ è‰²)
- âœ… å…‰æ¨™åœ–åƒå¯¦æ™‚æ›´æ–°
- âœ… FPS é¡¯ç¤º ~60
- âœ… ç·©å­˜å‘½ä¸­ç‡é€æ¼¸æå‡
- âœ… æ—¥èªŒæ»¾å‹•é¡¯ç¤º

## ğŸ“Š æ€§èƒ½é©—è­‰

### æ¸¬è©¦ç·©å­˜æ•ˆæœ

1. åœ¨ä¸åŒæ‡‰ç”¨é–“åˆ‡æ›ï¼ˆè¨˜äº‹æœ¬ã€ç€è¦½å™¨ã€æ–‡ä»¶ç®¡ç†å™¨ï¼‰
2. è§€å¯Ÿçµ±è¨ˆé¢æ¿ï¼š
   - **ç·©å­˜å‘½ä¸­ç‡** æ‡‰è©²é”åˆ° 80-95%
   - **æ•¸æ“šå‚³è¼¸** æ‡‰è©²å¾ˆä½ï¼ˆ< 1 MB/åˆ†é˜ï¼‰
   - **ç·©å­˜å¤§å°** å¢é•·åˆ° 5-10 å€‹

### æ¸¬è©¦å‹•ç•«å…‰æ¨™

1. ä½¿ç”¨ç³»çµ±å‹•ç•«å…‰æ¨™ï¼ˆæ§åˆ¶é¢æ¿ â†’ æ»‘é¼  â†’ æŒ‡æ¨™ï¼‰
2. è§€å¯Ÿï¼š
   - FPS ä¿æŒç©©å®š
   - å®šæœŸçœ‹åˆ°å®Œæ•´æ›´æ–°
   - ä¸­é–“ç©¿æ’ç·©å­˜å¼•ç”¨

## ğŸ”§ å¸¸ç”¨é…ç½®

### ä½¿ç”¨ PNG æ ¼å¼

```bash
$env:IMAGE_FORMAT="png"
cargo run --release
```

### èª¿æ•´ WebP è³ªé‡

```bash
# é«˜è³ªé‡
$env:WEBP_QUALITY="95"
cargo run --release

# ç¯€çœå¸¶å¯¬
$env:WEBP_QUALITY="60"
cargo run --release
```

### ç›£è½æ‰€æœ‰ç¶²å¡

```bash
$env:BIND_ADDR="0.0.0.0:9000"
cargo run --release
```

### å•Ÿç”¨è©³ç´°æ—¥èªŒ

```bash
$env:RUST_LOG="debug"
cargo run --release
```

## ğŸ¯ å¸¸è¦‹ä»»å‹™

### æ€§èƒ½æ¸¬è©¦

```bash
# çµ‚ç«¯ 1: å•Ÿå‹•æœå‹™å™¨
$env:RUST_LOG="info"
cargo run --release

# çµ‚ç«¯ 2: å¯é¸ - ç›£æ§è³‡æº
while ($true) { 
    Get-Process deragabu-agent | Select-Object CPU,WorkingSet; 
    Start-Sleep -Seconds 5 
}
```

åœ¨ç€è¦½å™¨ä¸­ï¼š
1. æ‰“é–‹é–‹ç™¼è€…å·¥å…· (F12)
2. æŸ¥çœ‹ Network æ¨™ç±¤
3. è§€å¯Ÿ WebSocket æ¶ˆæ¯å¤§å°

### å¤šå®¢æˆ¶ç«¯æ¸¬è©¦

1. åœ¨å¤šå€‹ç€è¦½å™¨æ¨™ç±¤æ‰“é–‹æ¸¬è©¦å·¥å…·
2. å…¨éƒ¨é€£æ¥
3. è§€å¯Ÿï¼š
   - æ‰€æœ‰å®¢æˆ¶ç«¯åŒæ­¥æ›´æ–°
   - æœå‹™å™¨åªç·¨ç¢¼ä¸€æ¬¡
   - å¸¶å¯¬æ¶ˆè€—ç·šæ€§å¢é•·

### ç·©å­˜æ•ˆæœå°æ¯”

**æ–¹æ³• 1: ä½¿ç”¨å…©å€‹å®¢æˆ¶ç«¯**

æ¨™ç±¤ 1: `test-client.html` (ç„¡ç·©å­˜)  
æ¨™ç±¤ 2: `test-client-v2.html` (æœ‰ç·©å­˜)

å°æ¯”æ•¸æ“šå‚³è¼¸é‡ï¼

**æ–¹æ³• 2: æŸ¥çœ‹æ—¥èªŒ**

```bash
$env:RUST_LOG="debug"
cargo run --release
```

æŸ¥æ‰¾æ—¥èªŒï¼š
```
DEBUG Broadcasting cursor message: 1245 bytes (full update)
DEBUG Broadcasting cursor message: 186 bytes (cache reference)
```

## ğŸ“± é ç¨‹è¨ªå•

### åŒä¸€å±€åŸŸç¶²

```bash
# æœå‹™å™¨ç«¯
$env:BIND_ADDR="0.0.0.0:9000"
cargo run --release

# å®¢æˆ¶ç«¯
# åœ¨ç€è¦½å™¨ä¸­è¼¸å…¥: ws://192.168.x.x:9000
```

### é˜²ç«ç‰†è¨­ç½®

```powershell
# å…è¨±ç«¯å£ 9000
New-NetFirewallRule -DisplayName "Deragabu Agent" -Direction Inbound -LocalPort 9000 -Protocol TCP -Action Allow
```

## ğŸ› æ•…éšœæ’é™¤

### å•é¡Œ: é€£æ¥å¤±æ•—

**æª¢æŸ¥**:
```powershell
# ç¢ºèªæœå‹™å™¨æ­£åœ¨é‹è¡Œ
netstat -ano | findstr :9000

# æª¢æŸ¥é€²ç¨‹
Get-Process deragabu-agent
```

**è§£æ±º**:
- ç¢ºèªæœå‹™å™¨å·²å•Ÿå‹•
- æª¢æŸ¥åœ°å€æ˜¯å¦æ­£ç¢º
- æŸ¥çœ‹é˜²ç«ç‰†è¨­ç½®

### å•é¡Œ: ç·©å­˜å‘½ä¸­ç‡ä½

**åŸå› **:
- å‰›å•Ÿå‹•ï¼ˆæ­£å¸¸ï¼‰
- é »ç¹åˆ‡æ›ä¸åŒå…‰æ¨™
- ä½¿ç”¨å‹•ç•«å…‰æ¨™

**æ­£å¸¸ç¯„åœ**:
- å•Ÿå‹• 1 åˆ†é˜: 50-70%
- é‹è¡Œ 5 åˆ†é˜: 80-90%
- ç©©å®šé‹è¡Œ: 85-95%

### å•é¡Œ: FPS ä½

**æª¢æŸ¥**:
```bash
# æŸ¥çœ‹ CPU ä½¿ç”¨
Get-Process deragabu-agent | Select-Object CPU

# æŸ¥çœ‹æ—¥èªŒ
$env:RUST_LOG="debug"
cargo run --release
```

**å¯èƒ½åŸå› **:
- CPU è² è¼‰é«˜
- å…‰æ¨™è®ŠåŒ–éå¿«
- ç¶²çµ¡å»¶é²

### å•é¡Œ: å…§å­˜æŒçºŒå¢é•·

**æ­£å¸¸**:
- ç·©å­˜å¢é•·åˆ° 50 å€‹å…‰æ¨™å¾Œç©©å®š
- å®¢æˆ¶ç«¯ç·©å­˜ URL å°è±¡

**ç•°å¸¸è™•ç†**:
- é‡å•Ÿæœå‹™å™¨
- åˆ·æ–°å®¢æˆ¶ç«¯é é¢
- æª¢æŸ¥æ˜¯å¦æœ‰å…§å­˜æ´©æ¼

## ğŸ“š ä¸‹ä¸€æ­¥

### æ·±å…¥äº†è§£

- é–±è®€ [CACHE.md](CACHE.md) äº†è§£ç·©å­˜æ©Ÿåˆ¶
- é–±è®€ [WEBP.md](WEBP.md) äº†è§£åœ–åƒæ ¼å¼
- é–±è®€ [ARCHITECTURE.md](ARCHITECTURE.md) äº†è§£æ¶æ§‹

### é–‹ç™¼å®¢æˆ¶ç«¯

- åƒè€ƒ [examples/python_client.py](../examples/python_client.py)
- æŸ¥çœ‹ [CLIENTS.md](CLIENTS.md) å°æ¯”ä¸åŒç‰ˆæœ¬
- ä½¿ç”¨ `proto/cursor.proto` ç”Ÿæˆä»£ç¢¼

### è‡ªå®šç¾©å„ªåŒ–

- èª¿æ•´ `FORCE_UPDATE_INTERVAL` (å‹•ç•«æ›´æ–°é »ç‡)
- èª¿æ•´ç·©å­˜å¤§å°é™åˆ¶
- ä¿®æ”¹ WebP è³ªé‡è¨­ç½®

## ğŸ’¡ æç¤º

1. **é¦–æ¬¡é‹è¡Œ**: ç·©å­˜å‘½ä¸­ç‡æœƒå¾ 0% é€æ¼¸æå‡ï¼Œé€™æ˜¯æ­£å¸¸çš„
2. **å‹•ç•«å…‰æ¨™**: æœƒæœ‰å®šæœŸçš„å®Œæ•´æ›´æ–°ï¼ˆæ¯ 15 å¹€ï¼‰
3. **å¤šå®¢æˆ¶ç«¯**: æ–°é€£æ¥çš„å®¢æˆ¶ç«¯æœƒæ”¶åˆ°å®Œæ•´çš„ç•¶å‰å…‰æ¨™
4. **æ€§èƒ½ç›£æ§**: ä½¿ç”¨ `$env:RUST_LOG="info"` æŸ¥çœ‹çµ±è¨ˆ
5. **é–‹ç™¼æ¨¡å¼**: ä½¿ç”¨ `.\run-dev.bat` ç²å¾—æ›´å¤šèª¿è©¦ä¿¡æ¯

## ğŸ‰ å®Œæˆï¼

ä½ å·²ç¶“æˆåŠŸé‹è¡Œ Deragabu Agentï¼

äº«å—ï¼š
- ğŸ“‰ 95% çš„å¸¶å¯¬ç¯€çœ
- ğŸš€ æµæš¢çš„å…‰æ¨™åŒæ­¥
- ğŸ’¾ æ™ºèƒ½çš„ç·©å­˜ç®¡ç†
- ğŸ“Š è©³ç´°çš„æ€§èƒ½çµ±è¨ˆ

æœ‰å•é¡ŒæŸ¥çœ‹æ–‡æª”æˆ–æäº¤ Issueï¼

